<!DOCTYPE html>
<html lang="en">
    <head>
        <title>12j Exercises</title>
    </head>
    <body>
        <button class="js-start-button" onclick="
        changeToFinished2();
        ">Start</button>
        <p>
            <button class="js-add-to-cart-button" onclick="addToCart2();">Add to cart</button>
        </p>
        <div class="js-message"></div>
        <script>
            //12j
            
            const multiply = (num1, num2) => {
                console.log(num1 * num2);
            }

            //12k

            const multiply2 = (num1, num2) => num1 * num2;

            function countPositive(nums) {
                let positiveNumbers = 0;
                nums.forEach(value => {
                    if (value > 0) {
                        positiveNumbers++;
                    }
                });
                return positiveNumbers;
            }

            //12m

            function addNum(array, num) {
                return array.map(value => value + num);
            }

            //12n and 12o

            function removeEggs(foods) {
                let eggsRemoved = 0;
                return foods.filter(value => {
                    if (value === 'egg' && eggsRemoved < 2) {
                        eggsRemoved++;
                        return false;
                    }
                    return true;
                })
            }

            //12p

            function changeToFinished() {
                const button = document.querySelector('.js-start-button');
                setTimeout(() => {
                    button.innerHTML = 'Finished';
                }, 1000);
            }

            function changeToFinished2() {
                const button = document.querySelector('.js-start-button');
                button.innerHTML = 'Loading...';
                setTimeout(() => {
                    button.innerHTML = 'Finished!'
                }, 1000);
            }

            //e

            function addToCart() {
                document.querySelector('.js-message').innerHTML = 'Added';
                setTimeout(() => {
                    document.querySelector('.js-message').innerHTML = '';
                }, 2000);
            }

            //f

            let timeoutId;

            function addToCart2() {
                const messageElement = document.querySelector('.js-message');
                messageElement.innerHTML = 'Added';
                clearInterval(timeoutId);
                timeoutId = setTimeout(() => {
                    messageElement.innerHTML = '';
                }, 2000);
            }

            //g and h

            let message = 2;
            let intervalId;
            
            function refreshTitle() {
                if (message <= 0) {
                    clearInterval(intervalId);
                    document.title = 'App';
                } else {
                    clearInterval(intervalId);
                    intervalId = setInterval(() => {
                        if (document.title === 'App') {
                            document.title = `(${message}) New messages`;
                        } else {
                            document.title = 'App';
                        }
                    }, 1000);
                }
            }


        </script>
    </body>
</html>